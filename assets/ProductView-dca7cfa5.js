import{_,r as h,o as r,c as n,b as g,a as t,t as o,f as m,v,F as d,g as f}from"./index-467fd309.js";const{VITE_API:l,VITE_APIPATH:u}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"hungya-vue",BASE_URL:"/vue-hexSchool2022-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},y={data(){return{product:{},qty:1,isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const{id:c}=this.$route.params;this.$http.get(`${l}/api/${u}/product/${c}`).then(e=>{this.product=e.data.product,this.isLoading=!1}).catch(e=>{alert(e.response.data.message),this.isLoading=!1})},addCart(){this.isLoading=!0;const{id:c}=this.$route.params;this.$http.post(`${l}/api/${u}/cart`,{data:{product_id:c,qty:this.qty}}).then(e=>{alert(e.data.message),this.isLoading=!1}).catch(e=>{alert(e.response.data.message),this.isLoading=!1})}},mounted(){this.getProduct()}},L={class:"container mt-4"},V={class:"text-center"},P={class:"row mt-4"},b={class:"col-sm-6"},E=["src","alt"],I={class:"col-sm-6"},k={class:"badge bg-primary rounded-pill"},A={key:0,class:"h5"},q={key:1},x={class:"h6"},S={class:"h5"},T={class:"input-group"},C=["value"];function D(c,e,w,B,s,a){const p=h("VueLoading");return r(),n(d,null,[g(p,{active:s.isLoading},null,8,["active"]),t("div",L,[t("h2",V,o(s.product.title),1),t("div",P,[t("div",b,[t("img",{class:"img-fluid",src:s.product.imagesUrl,alt:s.product.title},null,8,E)]),t("div",I,[t("span",k,o(s.product.category),1),t("p",null,"商品描述："+o(s.product.description),1),t("p",null,"商品內容："+o(s.product.content),1),s.product.price==s.product.origin_price?(r(),n("div",A,o(s.product.origin_price)+" 元",1)):(r(),n("div",q,[t("del",x,"原價 "+o(s.product.origin_price)+" 元",1),t("div",S,"現在只要 "+o(s.product.price)+" 元",1)])),t("div",null,[t("div",T,[m(t("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=i=>s.qty=i)},[(r(),n(d,null,f(20,i=>t("option",{value:i,key:`${i}_qty`},o(i),9,C)),64))],512),[[v,s.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...i)=>a.addCart&&a.addCart(...i))},"加入購物車")])])])])])],64)}const U=_(y,[["render",D]]);export{U as default};
